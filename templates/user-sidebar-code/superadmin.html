<style>
  /* Existing styles */
  .nav-item > a.active {
    background-color: rgb(0, 119, 255);
    color: white !important;
    font-weight: bold;
    border-radius: 0.375rem;
  }

  .collapse li a.active {
    background-color: rgb(0, 0, 0);
    color: #000 !important;
    font-weight: bold;
  }

  .dropdown-icon {
    transition: transform 0.3s ease;
  }

  .nav-item > a[aria-expanded="true"] .dropdown-icon {
    transform: rotate(90deg);
  }

  /* NEW: Remove list bullets and padding */
  .collapse {
    list-style: none;
    padding-left: 0;
    margin-left: 0;
  }

  .collapse li {
    list-style-type: none;
    padding-left: 1.5rem; /* Optional: indent submenu links nicely */
  }

  .collapse li a {
    display: block;
    padding: 6px 12px;
    text-decoration: none;
    color: #333;
    border-radius: 0.25rem;
  }

  .collapse li a:hover {
    background-color:rgb(0, 0, 0);
  }
</style>



<li class="nav-item">
  <a href="{% url 'superadmin_dashboard' %}" class="nav-link">
    <i class="fas fa-tachometer-alt"></i>
    <p>Dashboard</p>
  </a>
</li>

<li class="nav-item">
  <a data-bs-toggle="collapse" href="#branchMenu" role="button" aria-expanded="false">
    <i class="fas fa-building"></i>
    <p>Branch Management</p>
    <i class="fas fa-angle-right dropdown-icon"></i>
  </a>
  <ul class="collapse" id="branchMenu">
    <li><a href="{% url 'branch_list' %}">Branch List</a></li>
  </ul>
</li>

<li class="nav-item">
  <a data-bs-toggle="collapse" href="#staffMenu" role="button" aria-expanded="false">
    <i class="fas fa-user-tie"></i>
    <p>Staff Management</p>
    <i class="fas fa-angle-right dropdown-icon"></i>
  </a>
  <ul class="collapse" id="staffMenu">
    <li><a href="{% url 'staff_list' %}">Registered Staff</a></li>
    <li><a href="{% url 'teaching_position_list' %}">Teaching Staff Position</a></li>
    <li><a href="{% url 'non_teaching_position_list' %}">Non Teaching Staff Position</a></li>
  </ul>
</li>

<li class="nav-item">
  <a data-bs-toggle="collapse" href="#studentMenu" role="button" aria-expanded="false">
    <i class="fas fa-user-graduate"></i>
    <p>Student Management</p>
    <i class="fas fa-angle-right dropdown-icon"></i>
  </a>
  <ul class="collapse" id="studentMenu">
    <li><a href="{% url 'student_list' %}">Student List</a></li>
    <li><a href="#">Student Attendance</a></li>
    <li><a href="#">Student Reports</a></li>
  </ul>
</li>

<li class="nav-item">
  <a data-bs-toggle="collapse" href="#parentMenu" role="button" aria-expanded="false">
    <i class="fas fa-users"></i>
    <p>Parent Management</p>
    <i class="fas fa-angle-right dropdown-icon"></i>
  </a>
  <ul class="collapse" id="parentMenu">
    <li><a href="{% url 'parent_list' %}">Parent List</a></li>
    <li><a href="#">Attendance</a></li>
  </ul>
</li>

<li class="nav-item">
  <a data-bs-toggle="collapse" href="#classandarmsMenu" role="button" aria-expanded="false">
    <i class="fas fa-layer-group"></i>
    <p>Class & Arms</p>
    <i class="fas fa-angle-right dropdown-icon"></i>
  </a>
  <ul class="collapse" id="classandarmsMenu">
    <li><a href="{% url 'class_arm_list' %}">Arms List</a></li>
    <li><a href="{% url 'student_class_list' %}">Class List</a></li>
  </ul>
</li>

<li class="nav-item">
  <a href="#" class="nav-link">
    <i class="fas fa-bullhorn"></i>
    <p>Notices / Posts</p>
  </a>
</li>

<li class="nav-item">
  <a data-bs-toggle="collapse" href="#messages" role="button" aria-expanded="false">
    <i class="fas fa-envelope"></i>
    <p>Messages</p>
    <i class="fas fa-angle-right dropdown-icon"></i>
  </a>
  <ul class="collapse" id="messages">
    {% comment %} <li><a href="#">Sent to Staff (OUTBOX)</a></li>
    <li><a href="#">Received from Staff (INBOX)</a></li>
    <li><a href="#">Sent to Student (OUTBOX)</a></li>
    <li><a href="#">Received from Student (INBOX)</a></li>
    <li><a href="#">Sent to Parent (OUTBOX)</a></li>
    <li><a href="#">Received from Parent (INBOX)</a></li> {% endcomment %}
    <li><a href="#">Important</a></li>
    <li><a href="{% url 'outbox' %}">Sent(Outbox)</a></li>
    <li><a href="{% url 'inbox' %}">Inbox</a></li>
    <li><a href="{% url 'scheduled_messages' %}">Scheduled</a></li>
    <li><a href="{% url 'draft_messages' %}">Drafts</a></li>
    <li><a href="#">Trash</a></li>
  </ul>
</li>

<li class="nav-item">
  <a href="#" class="nav-link">
    <i class="fas fa-clipboard-list"></i>
    <p>Reports</p>
  </a>
</li>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const currentPath = window.location.pathname;

    document.querySelectorAll('.nav-item a[href]').forEach(link => {
      const linkPath = link.getAttribute('href');

      if (linkPath === currentPath || currentPath.startsWith(linkPath)) {
        link.classList.add('active');

        // Expand parent collapse if inside a submenu
        const parentCollapse = link.closest('.collapse');
        if (parentCollapse) {
          parentCollapse.classList.add('show');
          const toggleLink = parentCollapse.previousElementSibling;
          if (toggleLink && toggleLink.tagName === "A") {
            toggleLink.setAttribute('aria-expanded', 'true');
            toggleLink.classList.add('active');
          }
        }
      } else {
        link.classList.remove('active');
      }
    });
  });
</script>


{% comment %} <!-- SUPERADMIN MENU -->

<li class="nav-item">
  <a href="{% url 'superadmin_dashboard' %}"
    ><i class="fas fa-tachometer-alt"></i>
    <p>Dashboard</p></a
  >
</li>
<li class="nav-item">
  <a
    data-bs-toggle="collapse"
    href="#branchMenu"
    role="button"
    aria-expanded="false"
    aria-controls="branchMenu"
  >
    <i class="fas fa-user-graduate"></i>
    <p>Branch Management</p>
  </a>
  <ul class="collapse" id="branchMenu">
    <li><a href="{% url 'branch_list' %}">Branch List</a></li>
  </ul>
</li>
<li class="nav-item">
  <a
    data-bs-toggle="collapse"
    href="#staffMenu"
    role="button"
    aria-expanded="false"
    aria-controls="staffMenu"
  >
    <i class="fas fa-user-tie"></i>
    <p>Staff Management</p>
  </a>
  <ul class="collapse" id="staffMenu">
    <li><a href="{% url 'staff_list' %}">Registered Staff</a></li>
    <li>
      <a href="{% url 'teaching_position_list' %}">Teaching Staff Position</a>
    </li>
    <li>
      <a href="{% url 'non_teaching_position_list' %}"
        >Non Teaching Staff Position</a
      >
    </li>
  </ul>
</li>

<li class="nav-item">
  <a
    data-bs-toggle="collapse"
    href="#studentMenu"
    role="button"
    aria-expanded="false"
    aria-controls="studentMenu"
  >
    <i class="fas fa-user-graduate"></i>
    <p>Student Management</p>
  </a>
  <ul class="collapse" id="studentMenu">
    <li><a href="{% url 'student_list' %}">Student List</a></li>
    <li><a href="#">Student Attendance</a></li>
    <li><a href="#">Student Reports</a></li>
  </ul>
</li>
<li class="nav-item">
  <a
    data-bs-toggle="collapse"
    href="#parentMenu"
    role="button"
    aria-expanded="false"
    aria-controls="staffMenu"
  >
    <i class="fas fa-user-tie"></i>
    <p>Parent Management</p>
  </a>
  <ul class="collapse" id="parentMenu">
    <li><a href="{% url 'parent_list' %}">Parent List</a></li>
    <li><a href="#">Attendance</a></li>
  </ul>
</li>
<li class="nav-item">
  <a
    data-bs-toggle="collapse"
    href="#classandarmsMenu"
    role="button"
    aria-expanded="false"
    aria-controls="classandarmsMenu"
  >
    <i class="fas fa-user-tie"></i>
    <p>Class & Arms Management</p>
  </a>
  <ul class="collapse" id="classandarmsMenu">
    <li><a href="{% url 'class_arm_list' %}">Arms List</a></li>
    <li><a href="{% url 'student_class_list' %}">Class List</a></li>
  </ul>
</li>
<li class="nav-item">
  <a href=""
    ><i class="fas fa-tachometer-alt"></i>
    <p>Notices/Posts</p></a
  >
</li>
<li class="nav-item">
  <a
    data-bs-toggle="collapse"
    href="#messages"
    role="button"
    aria-expanded="false"
    aria-controls="messages"
  >
    <i class="fas fa-user-tie"></i>
    <p>Messages</p>
  </a>
  <ul class="collapse" id="messages">
    <li><a href="">Sent to Staff(OUTBOX)</a></li>
    <li><a href="">Received from Staff(INBOX)</a></li>
    <li><a href="">Sent to Student(OUTBOX)</a></li>
    <li><a href="">Received from Student(INBOX)</a></li>
    <li><a href="">Sent to Parent(OUTBOX)</a></li>
    <li><a href="">Received from Parent(INBOX)</a></li>
  </ul>
</li>
<li class="nav-item">
  <a href="#"
    ><i class="fas fa-clipboard-list"></i>
    <p>Reports</p></a
  >
</li> {% endcomment %}
